%%% Configurations/04-Headers.sty %%%

\usepackage{fancyhdr}
\usepackage[bottom,hang]{footmisc}
\setlength{\footnotemargin}{6pt}

% Define custom page styles

% Front matter style (Roman numerals, centered footer, no header)
\fancypagestyle{frontmatter}{%
    \fancyhf{}
    \renewcommand{\headrulewidth}{0pt}
    \fancyfoot[C]{%
        \miniondisplayfont\fontsize{11}{13}\selectfont%
        \thepage%
        \vspace{3pt}%
    }
    \ifthenelse{\equal{\DocStageOption}{working}}{%
        \fancyfoot[L]{%
            \minionfont\fontsize{8}{10}\selectfont\itshape%
            \GetDocumentVersion\ \textbullet{}\ \today%
        }%
    }{}%
}

% Main matter style (Arabic numerals, with headers)
\fancypagestyle{mainmatter}{%
    \fancyhf{}
    \renewcommand{\headrulewidth}{0.3pt}
    \fancyhead[L]{%
        \miniondisplayfont\fontsize{10}{12}\selectfont\bfseries%
        \thepage%
        \vspace{3pt}%
    }
    \fancyhead[R]{%
        \miniondisplayfont\fontsize{9}{11}\selectfont%
        \leftmark%
        \vspace{3pt}%
    }
    \ifthenelse{\equal{\DocStageOption}{working}}{%
        \fancyfoot[C]{%
            \minionfont\fontsize{8}{10}\selectfont\itshape%
            \GetDocumentVersion\ \textbullet{}\ \today%
        }%
    }{}%
}

% Plain style for chapter opening pages
\fancypagestyle{plain}{%
    \fancyhf{}
    \renewcommand{\headrulewidth}{0pt}
    \fancyfoot[C]{%
        \miniondisplayfont\fontsize{11}{13}\selectfont\bfseries%
        \thepage%
        \vspace{3pt}%
    }
    \setlength{\footskip}{1.6cm}
    \ifthenelse{\equal{\DocStageOption}{working}}{%
        \fancyfoot[L]{%
            \minionfont\fontsize{8}{10}\selectfont\itshape%
            \GetDocumentVersion\ \textbullet{}\ \today%
        }%
    }{}%
}

% Set default page style
\pagestyle{mainmatter}

% Configure chapter and section marks
\renewcommand{\chaptermark}[1]{%
    \markboth{%
        \miniondisplayfont\fontsize{10}{12}\selectfont\bfseries%
        \ifnum\value{chapter}>0 \thechapter.\ \fi#1%
    }{}%
}

\renewcommand{\sectionmark}[1]{%
    \markright{%
        \miniondisplayfont\fontsize{9}{11}\selectfont%
        \thesection.\ #1%
    }%
}