%%% Configuration/00-Fonts.sty %%%
%%% Typography Configuration for Veritas Template
%%%
%%% FIRST PRINCIPLES BASIS:
%%% This module implements typography decisions derived from:
%%%
%%% 1. Bringhurst, R. (2012). The Elements of Typographic Style. 4th ed.
%%%    - Line length: 45-75 characters optimal for readability (ยง2.1.2)
%%%    - Leading: 120-145% of point size for body text (ยง2.4.2)
%%%    - Typeface selection: humanist serifs for extended reading
%%%
%%% 2. Tracy, W. (1986). Letters of Credit: A View of Type Design.
%%%    - Minion Pro: based on late Renaissance Aldine Roman tradition
%%%    - Designed by Robert Slimbach (1990) for extended text reading
%%%
%%% 3. Knuth, D.E. (1986). The TeXbook.
%%%    - TeX ligatures (fi, fl, ff, ffi, ffl) for improved spacing
%%%
%%% COMPLIANCE: Standard.md
%%% - LOC-1 Rule 1: LaTeX2e conformant
%%% - LOC-3 Rule 9: Dependency guard for fontspec
%%% - LOC-4 Rule 11: Presentation logic separated from content

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{00-Fonts}[2025/12/12 v1.0.0 Veritas Typography Configuration]

%%% Package Dependencies %%%
\usepackage[T1]{fontenc}
\usepackage{newpxmath}
\usepackage{fvextra}
\usepackage{csquotes}
\usepackage{fontspec}

%%% Line Spacing %%%
% Bringhurst ยง2.4.2: For 11pt body text, 120% leading = 13.2pt
% We use 1.2 linespread which achieves this ratio
\linespread{1.2}

%%% Primary Serif: Minion Pro %%%
% Rationale: Humanist serif optimised for extended reading.
% Descends from the Aldine Roman tradition (Aldus Manutius, 1495).
% Low stroke contrast reduces eye fatigue in long documents.
\setmainfont{Minion Pro}[
    Path = Font/,
    UprightFont = Minion-Pro-Regular.ttf,
    BoldFont = Minion-Pro-Bold.ttf,
    ItalicFont = Minion-Pro-Italic.ttf,
    BoldItalicFont = Minion-Pro-Bold-Italic.ttf,
    Ligatures=TeX,
    LetterSpace=0.7
]

%%% Display Variant: Minion Pro Display %%%
% Rationale: Display cuts have refined details visible at large sizes.
% Used for chapter headings and titles where delicacy is visible.
\newfontfamily\miniondisplay{Minion Pro}[
    Path = Font/,
    UprightFont = Minion-Pro-Display.otf,
    BoldFont = Minion-Pro-Bold.ttf,
    ItalicFont = Minion-Pro-Italic.ttf,
    BoldItalicFont = Minion-Pro-Bold-Italic.ttf,
    Ligatures=TeX,
    LetterSpace=1.5
]

%%% Semibold Variant: Emphasis without full bold %%%
% Rationale: Gradation between regular and bold for typographic hierarchy.
\newfontfamily\minionsemibold{Minion Pro}[
    Path = Font/,
    UprightFont = Minion-Pro-Semibold.ttf,
    BoldFont = Minion-Pro-Bold.ttf,
    ItalicFont = Minion-Pro-Italic.ttf,
    BoldItalicFont = Minion-Pro-Bold-Italic.ttf,
    Ligatures=TeX
]

%%% Subhead Variant: Chapter Numbers %%%
% Rationale: Subhead optical size for numerals at 32-96pt.
% Increased letter spacing for display numerals (Bringhurst ยง2.1.5).
\newfontfamily\minionsubhead{Minion Pro}[
    Path = Font/,
    UprightFont = Minion-Pro-Subhead.otf,
    BoldFont = Minion-Pro-Bold.ttf,
    ItalicFont = Minion-Pro-Italic.ttf,
    BoldItalicFont = Minion-Pro-Bold-Italic.ttf,
    Ligatures=TeX,
    LetterSpace=2
]

%%% Sans Serif: Myriad Pro %%%
% Rationale: Humanist sans-serif complement to Minion.
% Same designer (Robert Slimbach) ensures harmonic pairing.
% Used sparingly for covers and captions.
\newfontfamily\myriadpro{Myriad Pro}[
    Path = Font/,
    UprightFont = Myriad-Pro-Regular.otf,
    BoldFont = Myriad-Pro-Bold.otf,
    ItalicFont = Myriad-Pro-Regular.otf,
    BoldItalicFont = Myriad-Pro-Bold.otf,
    Ligatures=TeX
]

%%% Semantic Font Commands %%%
% LOC-4 Rule 11: Semantic commands for content/presentation separation
\newcommand{\minionfont}{\fontfamily{\rmdefault}\selectfont}
\newcommand{\miniondisplayfont}{\miniondisplay}
\newcommand{\minionsemiboldfont}{\minionsemibold}
\newcommand{\minionsubheadfont}{\minionsubhead}
\newcommand{\myriadfont}{\myriadpro}