%%% Configurations/11-Metadata.sty %%%
%%% PDF Metadata and Document Settings for Veritas Template
%%%
%%% FIRST PRINCIPLES BASIS:
%%% This module implements metadata management derived from:
%%%
%%% 1. Dublin Core Metadata Initiative (DCMI)
%%%    - Standard elements: title, creator, date, description
%%%    - Interoperability across systems
%%%
%%% 2. PDF/A Standard (ISO 19005)
%%%    - Embedded metadata for long-term archival
%%%    - Machine-readable document properties
%%%
%%% 3. Standard.md LOC-5 Rule 17
%%%    - Version control metadata embedded in output
%%%    - Auditability through traceable versioning
%%%
%%% COMPLIANCE: Standard.md
%%% - LOC-1 Rule 1: LaTeX2e conformant
%%% - LOC-5 Rule 16: Reproducible PDF output
%%% - LOC-5 Rule 17: Version metadata and auditability

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{11-Metadata}[2025/12/12 v1.0.0 Veritas PDF Metadata Configuration]

%%% Author and Contributor Metadata %%%
\NewDocumentCommand{\FirstAuthor}{m}{\newcommand{\GetFirstAuthor}{#1}}
\NewDocumentCommand{\FirstAuthorNumber}{m}{\newcommand{\GetFirstAuthorNumber}{#1}}
\NewDocumentCommand{\SecondAuthor}{m}{\newcommand{\GetSecondAuthor}{#1}}
\NewDocumentCommand{\SecondAuthorNumber}{m}{\newcommand{\GetSecondAuthorNumber}{#1}}
\NewDocumentCommand{\ThirdAuthor}{m}{\newcommand{\GetThirdAuthor}{#1}}
\NewDocumentCommand{\ThirdAuthorNumber}{m}{\newcommand{\GetThirdAuthorNumber}{#1}}

%%% Supervisor Metadata %%%
\NewDocumentCommand{\Supervisor}{m}{\newcommand{\GetSupervisor}{#1}}
\NewDocumentCommand{\SupervisorMail}{m}{\newcommand{\GetSupervisorMail}{#1}}
\NewDocumentCommand{\SupervisorTitle}{m}{\newcommand{\GetSupervisorTitle}{#1}}
\NewDocumentCommand{\CoSupervisor}{m}{\newcommand{\GetCoSupervisor}{#1}}
\NewDocumentCommand{\CoSupervisorMail}{m}{\newcommand{\GetCoSupervisorMail}{#1}}
\NewDocumentCommand{\CoSupervisorTitle}{m}{\newcommand{\GetCoSupervisorTitle}{#1}}
\NewDocumentCommand{\SecCoSupervisor}{m}{\newcommand{\GetSecCoSupervisor}{#1}}
\NewDocumentCommand{\SecCoSupervisorMail}{m}{\newcommand{\GetSecCoSupervisorMail}{#1}}
\NewDocumentCommand{\SecCoSupervisorTitle}{m}{\newcommand{\GetSecCoSupervisorTitle}{#1}}

%%% Document Metadata %%%
\NewDocumentCommand{\Subtitle}{m}{\newcommand{\GetSubtitle}{#1}}
\NewDocumentCommand{\University}{m}{\newcommand{\GetUniversity}{#1}}
\NewDocumentCommand{\School}{m}{\newcommand{\GetSchool}{#1}}
\NewDocumentCommand{\Department}{m}{\newcommand{\GetDepartment}{#1}}
\NewDocumentCommand{\Degree}{m}{\newcommand{\GetDegree}{#1}}
\NewDocumentCommand{\Course}{m}{\newcommand{\GetCourse}{#1}}
\NewDocumentCommand{\ThesisType}{m}{\newcommand{\GetThesisType}{#1}}
\NewDocumentCommand{\AcademicYear}{m}{\newcommand{\GetAcademicYear}{#1}}

%%% Standard LaTeX Title/Date %%%
\let\Title\title
\newcommand{\GetTitle}{\@title}
\let\Date\date
\newcommand{\GetDate}{\@date}

%%% Document Version (LOC-5 Rule 17) %%%
% Version string displayed in working drafts
\NewDocumentCommand{\DocumentVersion}{m}{%
    \newcommand{\GetDocumentVersion}{\color{black}{%
        \ifthenelse{\equal{\LanguageOption}{portuguese}}{%
            \textit{Vers√£o Preliminar #1}%
        }{%
            \textit{Draft Version #1}%
        }%
    }}%
}

%%% PDF Metadata Embedding %%%
% Automatically set PDF properties from document metadata
\AfterPreamble{
    \hypersetup{
        pdfauthor={\GetFirstAuthor},
        pdftitle={\GetTitle},
        pdfproducer={Veritas Template v1.0.0},
        pdfcreator={XeLaTeX}
    }
}