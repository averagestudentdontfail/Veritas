%%% Configurations/02-Margins.sty %%%
%%% Page Geometry for Veritas Template
%%%
%%% FIRST PRINCIPLES BASIS:
%%% This module implements page proportions derived from:
%%%
%%% 1. Tschichold, J. (1991). The Form of the Book: Essays on the 
%%%    Morality of Good Design. Lund Humphries.
%%%    - Classical page proportions for A4 paper
%%%    - Gutter compensation for bound documents
%%%
%%% 2. Bringhurst, R. (2012). The Elements of Typographic Style.
%%%    - Line length 45-75 characters for optimal readability (§2.1.2)
%%%    - At 11pt Minion Pro, ~65 chars/line with 3.15cm margins
%%%
%%% 3. ISO 216 (A4 Paper: 210mm × 297mm)
%%%    - Text block ratio approximating √2 page ratio
%%%
%%% COMPLIANCE: Standard.md
%%% - LOC-1 Rule 1: LaTeX2e conformant
%%% - LOC-2 Rule 6: Deterministic page dimensions

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{02-Margins}[2025/12/12 v1.0.0 Veritas Page Geometry]

\usepackage{geometry}

%%% Screen/Single-sided Layout %%%
% Rationale: Equal left/right margins for digital reading.
% 2.54cm (1 inch) is standard academic binding margin.
\ifthenelse{\equal{\BookPrintOption}{false}}{%
    \geometry{
        paper=a4paper,
        top=2.54cm,
        bottom=2.54cm,
        left=3.15cm,
        right=3.15cm,
        footskip=1.6cm,
        headsep=0.75cm,
        % showframe % Uncomment to display margin frames for debugging.
    }
}{%
    %%% Book Printing Layout %%%
    % Rationale: Asymmetric margins compensate for binding gutter.
    % Inner margin narrower because gutter adds visual space.
    % Outer margin wider for thumb room when holding book.
    \geometry{
        paper=a4paper,
        top=2.54cm,
        bottom=2.54cm,
        inner=2.54cm,
        outer=3.81cm,
        footskip=1.6cm,
        headsep=0.75cm,
        bindingoffset=0.5cm,
        % showframe % Uncomment to display margin frames for debugging.
    }
}

%%% Fine-tune Text Block %%%
% Adjust text height to accommodate header without crowding
\addtolength{\textheight}{-20pt}
\setlength{\headheight}{20pt}